–ó–∞–¥–∞—á–∞ **763. Partition Labels** ‚Äî –æ–¥–Ω–∞ –∏–∑ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –Ω–∞ *–∂–∞–¥–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã* –∏ —Ä–∞–±–æ—Ç—É —Å –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏. –ù–∏–∂–µ ‚Äî –ø–æ–ª–Ω—ã–π —Ä–∞–∑–±–æ—Ä.

---

## üìù **–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏:**

> –£—á–∏—Ç—ã–≤–∞—è —Å—Ç—Ä–æ–∫—É `s`, **—Ä–∞–∑–¥–µ–ª–∏—Ç–µ –µ—ë –Ω–∞ –∫–∞–∫ –º–æ–∂–Ω–æ –º–µ–Ω—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ "—á–∞—Å—Ç–µ–π"**, —á—Ç–æ–±—ã:
>
> * –ö–∞–∂–¥–∞—è –±—É–∫–≤–∞ –≤—Å—Ç—Ä–µ—á–∞–ª–∞—Å—å **—Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏** (—Ç–æ –µ—Å—Ç—å –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è —Å–∏–º–≤–æ–ª–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –æ–¥–Ω–æ–π –ø–æ–¥—Å—Ç—Ä–æ–∫–µ).
> * –í–µ—Ä–Ω–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑–º–µ—Ä–æ–≤ —ç—Ç–∏—Ö —á–∞—Å—Ç–µ–π.

---

### üîπ –ü—Ä–∏–º–µ—Ä:

```go
Input:  s = "ababcbacadefegdehijhklij"
Output: [9,7,8]
```

### üìñ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

–†–∞–∑–±–∏–µ–Ω–∏–µ:

* `"ababcbaca"` ‚Äî –±—É–∫–≤—ã a, b, c –Ω–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –¥–∞–ª–µ–µ ‚Üí –¥–ª–∏–Ω–∞ 9
* `"defegde"` ‚Äî –±—É–∫–≤—ã d, e, f —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å ‚Üí –¥–ª–∏–Ω–∞ 7
* `"hijhklij"` ‚Äî –±—É–∫–≤—ã h, i, j, k —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å ‚Üí –¥–ª–∏–Ω–∞ 8

---

## üí° **–ò–¥–µ—è —Ä–µ—à–µ–Ω–∏—è (–∂–∞–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º):**

1. **–°–Ω–∞—á–∞–ª–∞ —É–∑–Ω–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –±—É–∫–≤—ã**.

   * –ù–∞–ø—Ä–∏–º–µ—Ä, `lastIndex['a'] = 8`, `lastIndex['e'] = 15` –∏ —Ç.–¥.

2. **–ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ —Å—Ç—Ä–æ–∫–µ**, –≤–µ–¥–µ–º –¥–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è:

   * `start` ‚Äî –Ω–∞—á–∞–ª–æ —Ç–µ–∫—É—â–µ–π —á–∞—Å—Ç–∏
   * `end` ‚Äî –º–∞–∫—Å–∏–º—É–º –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤—Ö–æ–∂–¥–µ–Ω–∏–π –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏

3. –ö–æ–≥–¥–∞ —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è `i == end`:

   * –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ **–≤—Å–µ —Å–∏–º–≤–æ–ª—ã —Ç–µ–∫—É—â–µ–π —á–∞—Å—Ç–∏** –±–æ–ª—å—à–µ **–Ω–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –¥–∞–ª—å—à–µ** ‚Äî –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ä–∞–∑–±–∏–µ–Ω–∏–µ.
   * –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª–∏–Ω—É: `end - start + 1`, –∏ –æ–±–Ω–æ–≤–ª—è–µ–º `start = i + 1`

---

## üîß Go-–∫–æ–¥:

```go
func partitionLabels(s string) []int {
    last := make(map[byte]int)

    // –®–∞–≥ 1: –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –±—É–∫–≤—ã
    for i := 0; i < len(s); i++ {
        last[s[i]] = i
    }

    var result []int
    start, end := 0, 0

    // –®–∞–≥ 2: –∏–¥–µ–º –ø–æ —Å—Ç—Ä–æ–∫–µ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º —Ç–µ–∫—É—â—É—é –æ–±–ª–∞—Å—Ç—å –¥–æ —Å–∞–º–æ–≥–æ –¥–∞–ª—å–Ω–µ–≥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è
    for i := 0; i < len(s); i++ {
        if last[s[i]] > end {
            end = last[s[i]]
        }

        // –ö–æ–≥–¥–∞ –¥–æ—à–ª–∏ –¥–æ –≥—Ä–∞–Ω–∏—Ü—ã ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ–º —á–∞—Å—Ç—å
        if i == end {
            result = append(result, end-start+1)
            start = i + 1
        }
    }

    return result
}
```

---

## ‚è± –°–ª–æ–∂–Ω–æ—Å—Ç—å:

* **–í—Ä–µ–º—è:** O(n) ‚Äî –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –ø–æ —Å—Ç—Ä–æ–∫–µ
* **–ü–∞–º—è—Ç—å:** O(1) ‚Äî –º–∞–∫—Å–∏–º—É–º 26 –±—É–∫–≤ (–∞–ª—Ñ–∞–≤–∏—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω)

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤:

```go
s := "eccbbbbdec" // Output: [10]
s := "abc"        // Output: [1,1,1]
s := "aaaa"       // Output: [4]
s := ""           // Output: []
```

---

–ö–æ–Ω–µ—á–Ω–æ! –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º **–∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –∏ –ø–æ—à–∞–≥–æ–≤–æ**, **—á—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –∑–∞–¥–∞—á–µ Partition Labels**, **–ø–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç** –∏ –∫–∞–∫ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –æ—Ç–≤–µ—Ç.

---

## üß© –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏?

–ù–∞–º –¥–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```
s = "ababcbacadefegdehijhklij"
```

**–ù—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –µ—ë –Ω–∞ —Ç–∞–∫–∏–µ –æ—Ç—Ä–µ–∑–∫–∏ (–ø–æ–¥—Å—Ç—Ä–æ–∫–∏),** —á—Ç–æ–±—ã:

* **–ö–∞–∂–¥–∞—è –±—É–∫–≤–∞ –≤—Å—Ç—Ä–µ—á–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏.**
* –¢–æ –µ—Å—Ç—å, **–µ—Å–ª–∏ –±—É–∫–≤–∞ "a" –≤—Å—Ç—Ä–µ—Ç–∏–ª–∞—Å—å –≤ –∫–∞–∫–æ–º-—Ç–æ –æ—Ç—Ä–µ–∑–∫–µ**, —Ç–æ **–æ–Ω–∞ –±–æ–ª—å—à–µ –Ω–µ –¥–æ–ª–∂–Ω–∞ –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è –≤ –¥—Ä—É–≥–∏—Ö.**
* **–ù—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –¥–ª–∏–Ω—ã —ç—Ç–∏—Ö –æ—Ç—Ä–µ–∑–∫–æ–≤.**

---

## üîç –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ?

–í–æ–∑—å–º—ë–º `s = "ababcbacadefegdehijhklij"`

–í–æ—Ç —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

* –í—Å—Ç—Ä–µ—á–∞–µ–º `'a'`, –æ–Ω–∞ –µ—Å—Ç—å –≤ –∏–Ω–¥–µ–∫—Å–µ 0, –Ω–æ **–µ—ë –ø–æ—Å–ª–µ–¥–Ω–µ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ ‚Äî –≤ –∏–Ω–¥–µ–∫—Å–µ 8**
* –ó–Ω–∞—á–∏—Ç, –ø–æ–∫–∞ –Ω–µ –¥–æ–π–¥—ë–º –¥–æ –ø–æ–∑–∏—Ü–∏–∏ 8, –Ω–µ–ª—å–∑—è –∑–∞–∫–æ–Ω—á–∏—Ç—å –ø–µ—Ä–≤—É—é —á–∞—Å—Ç—å
* –ü–æ–∫–∞ –∏–¥—ë–º, –≤—Å—Ç—Ä–µ—á–∞–µ–º `'b'`, —É –Ω–µ—ë –ø–æ—Å–ª–µ–¥–Ω–µ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ ‚Äî –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ 5 ‚Üí `end` –æ—Å—Ç–∞—ë—Ç—Å—è 8
* `'c'` ‚Üí –ø–æ—Å–ª–µ–¥–Ω–µ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ 7 ‚Üí –≤—Å—ë –µ—â—ë –Ω–µ –≤—ã—Ö–æ–¥–∏–º –∑–∞ –ø—Ä–µ–¥–µ–ª—ã
* –ù–∞ –ø–æ–∑–∏—Ü–∏–∏ 8 ‚Äî –º—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –±—É–∫–≤, —á—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–ª–∏—Å—å –¥–æ —ç—Ç–æ–≥–æ

üìå **–ü–µ—Ä–≤–∞—è —á–∞—Å—Ç—å: –æ—Ç –∏–Ω–¥–µ–∫—Å–∞ 0 –¥–æ 8 ‚Üí –¥–ª–∏–Ω–∞ = 9**

---

–¢–µ–ø–µ—Ä—å –±–µ—Ä—ë–º —Å–ª–µ–¥—É—é—â–µ–µ:

```
s[9:] = "defegdehijhklij"
```

* `'d'` ‚Üí –ø–æ—Å–ª–µ–¥–Ω–µ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –≤ 14
* `'e'` ‚Üí –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤ 15
* `'f'` ‚Üí –≤ 11

–î–≤–∏–≥–∞–µ–º—Å—è, –ø–æ–∫–∞ –Ω–µ –¥–æ–π–¥—ë–º –¥–æ **15** ‚Äî –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è `'e'`

üìå **–í—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å: –∏–Ω–¥–µ–∫—Å—ã 9‚Äì15 ‚Üí –¥–ª–∏–Ω–∞ = 7**

---

–°–ª–µ–¥—É—é—â–µ–µ:

```
s[16:] = "hijhklij"
```

* `'h'` ‚Üí –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤ 19
* `'i'` ‚Üí –≤ 22
* `'j'` ‚Üí –≤ 23
* `'k'` ‚Üí –≤ 20

–ú–∞–∫—Å–∏–º—É–º = 23, –¥–æ –Ω–µ–≥–æ –∏ –∏–¥—ë–º

üìå **–¢—Ä–µ—Ç—å—è —á–∞—Å—Ç—å: –∏–Ω–¥–µ–∫—Å—ã 16‚Äì23 ‚Üí –¥–ª–∏–Ω–∞ = 8**

---

## üì§ –û—Ç–≤–µ—Ç: `[9, 7, 8]`

---

## üí° –ö–∞–∫ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è?

1. **–î–ª—è –∫–∞–∂–¥–æ–π –±—É–∫–≤—ã —É–∑–Ω–∞—ë–º: –≥–¥–µ –æ–Ω–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑**
2. –ò–¥—ë–º —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ:

   * –ó–∞–ø–æ–º–∏–Ω–∞–µ–º, –∫–∞–∫–∞—è **—Å–∞–º–∞—è –¥–∞–ª—å–Ω—è—è** –≥—Ä–∞–Ω–∏—Ü–∞ (`end`) –¥–ª—è —Ç–µ–∫—É—â–µ–π –ø–æ–¥—Å—Ç—Ä–æ–∫–∏
   * –ü–æ–∫–∞ –Ω–µ –¥–æ—à–ª–∏ –¥–æ –Ω–µ—ë ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
   * –ö–∞–∫ —Ç–æ–ª—å–∫–æ `i == end` ‚Äî –∑–Ω–∞—á–∏—Ç, **–≤—Å–µ –±—É–∫–≤—ã, —á—Ç–æ –±—ã–ª–∏ –¥–æ —ç—Ç–æ–≥–æ, –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –∑–¥–µ—Å—å**
   * –ó–∞–ø–æ–º–∏–Ω–∞–µ–º –¥–ª–∏–Ω—É, –∏ –Ω–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—É—é —á–∞—Å—Ç—å

---

## üé® –í–∏–∑—É–∞–ª—å–Ω–æ:

```
"ababcbaca"       "defegde"        "hijhklij"
 [0........8]     [9.....15]       [16....23]
     9                7                8
```

---
