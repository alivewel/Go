Правильная скобочная последовательность - это последовательность в которой каждой открывающейся скобке соответствует закрывающаяся скобка.

При проходе и формировании последовательности мы можем отслеживать balance. При добавлении скобок, он будет увеличиваться, при удалении уменьшаться. Мы должны отслеживать, чтобы balance не стал отрицательным. Если он стал отрицательным, значит в последовательности количество закрывающих скобок стало больше и такая последовательность стала неправильной, ее уже не исправить. Например: ```())```.
В этом случае мы можем выходить из рекурсии и подниматься на уровень выше.

Также баланс должен отслеживать, что он не стал слишком большим.
Например: n = 3 ```((((```. Здесь у нас уже количество скобок стало больше чем допустимое.
Если баланс стал больше чем n (количество скобок), то мы можем выходить из рекурсии и подниматься на уровень выше. 