CREATE TABLE users (username text, password text, age integer)

CREATE INDEX h_idx ON users USING hash(age);

SELECT *
FROM users
WHERE age > 18;

----

Здесь мы создаем hash-индекс на столбец age для оптимизации запроса, но он не сработает.
hash-индекс будет работать только в случии сравнении (оператор =), при операторах '<' и '>' (больше или равно) индекс не будет работать. Потому что мы не можем сравнивать хэши на больше или меньше.

Как мы не зная этого факта могли узнать роботает индекс или нет.
Это можно узнать используя EXPLAIN ANALYZE (последовательность и анализ запроса). Мы там скорее всего увидили бы sequence scan и поняли, что запрос у нас почему-то не работает.