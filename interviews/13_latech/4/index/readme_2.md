–ß—Ç–æ —Ç–∞–∫–æ–µ Seq Scan? –ß—Ç–æ —Ç–∞–∫–æ–µ full scan?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, PostgreSQL, MySQL) —Ç–µ—Ä–º–∏–Ω—ã **Seq Scan** –∏ **Full Table Scan** –æ–∑–Ω–∞—á–∞—é—Ç **–æ–¥–Ω–æ –∏ —Ç–æ –∂–µ** ‚Äî **–ø–æ–ª–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü—ã –ø–æ—Å—Ç—Ä–æ—á–Ω–æ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞**.

---

### üìå –ß—Ç–æ —Ç–∞–∫–æ–µ **Seq Scan** / **Full Table Scan**?

–≠—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –°–£–ë–î **—á–∏—Ç–∞–µ—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã —Ü–µ–ª–∏–∫–æ–º**, –ø–æ –ø–æ—Ä—è–¥–∫—É, **–±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤**.

---

### üîç –ü—Ä–∏–º–µ—Ä

```sql
SELECT * FROM users WHERE age > 18;
```

–ï—Å–ª–∏:

* –ø–æ `age` **–Ω–µ—Ç –∏–Ω–¥–µ–∫—Å–∞**
* –∏–ª–∏ **—Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∞—è** (–ø–æ—á—Ç–∏ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥—Ö–æ–¥—è—Ç)
* –∏–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ **–º–∞–ª–µ–Ω—å–∫–∞—è**

—Ç–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–µ—à–∏—Ç: ¬´–ò–Ω–¥–µ–∫—Å –Ω–µ –ø–æ–º–æ–∂–µ—Ç, –¥–µ—à–µ–≤–ª–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å—é —Ç–∞–±–ª–∏—Ü—É¬ª.

‚Üí –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω **Seq Scan**.

---

### üí° –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ **Seq Scan**:

| –ü–∞—Ä–∞–º–µ—Ç—Ä              | –ó–Ω–∞—á–µ–Ω–∏–µ                                                  |
| --------------------- | --------------------------------------------------------- |
| –°–∫–æ—Ä–æ—Å—Ç—å              | –ë—ã—Å—Ç—Ä–æ –Ω–∞ **–º–∞–ª–µ–Ω—å–∫–∏—Ö** —Ç–∞–±–ª–∏—Ü–∞—Ö                          |
| –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å         | –ü–ª–æ—Ö–æ –Ω–∞ **–±–æ–ª—å—à–∏—Ö** —Ç–∞–±–ª–∏—Ü–∞—Ö —Å **–Ω–∏–∑–∫–æ–π —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é** |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ | ‚ùå –ù–µ—Ç                                                     |
| –ß—Ç–µ–Ω–∏–µ                | –ü–æ—Å—Ç—Ä–æ—á–Ω–æ, **–≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥—Ä—è–¥**                          |

---

### üîß –ö–æ–≥–¥–∞ –∏ –ø–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Seq Scan?

| –°–∏—Ç—É–∞—Ü–∏—è                                     | –ü–æ—á–µ–º—É Seq Scan                                  |
| -------------------------------------------- | ------------------------------------------------ |
| –ù–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞                      | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—á–µ–≥–æ                              |
| –§–∏–ª—å—Ç—Ä –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç 90% —Å—Ç—Ä–æ–∫                  | –ß—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –ø—Ä—ã–∂–∫–∏ –ø–æ –∏–Ω–¥–µ–∫—Å—É |
| –¢–∞–±–ª–∏—Ü–∞ –º–∞–ª–µ–Ω—å–∫–∞—è (–º–µ–Ω—å—à–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã)    | –ò–Ω–¥–µ–∫—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏–∑-–∑–∞ –¥–æ–ø. —á—Ç–µ–Ω–∏–π    |
| –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ü–µ–Ω–∏–ª —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å | –ú–æ–∂–µ—Ç –æ—à–∏–±–æ—á–Ω–æ –≤—ã–±—Ä–∞—Ç—å Seq Scan                  |

---

### üß™ –ö–∞–∫ —É–≤–∏–¥–µ—Ç—å Seq Scan –≤ PostgreSQL?

```sql
EXPLAIN ANALYZE
SELECT * FROM users WHERE age > 18;
```

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ç—ã –º–æ–∂–µ—à—å —É–≤–∏–¥–µ—Ç—å:

```
Seq Scan on users  (cost=0.00..431.00 rows=5000 width=48)
```

---

### üîÑ –ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ—Å—Ç—å: **Index Scan**

| –í–∏–¥ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è                          | –ü—Ä–∏–º–µ—Ä                               |
| ---------------- | ------------------------------------------- | ------------------------------------ |
| **Seq Scan**     | –¢–∞–±–ª–∏—Ü–∞ –º–∞–ª–µ–Ω—å–∫–∞—è –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä –Ω–µ —Å–µ–ª–µ–∫—Ç–∏–≤–Ω—ã–π | `SELECT * FROM users`                |
| **Index Scan**   | –ï—Å—Ç—å –∏–Ω–¥–µ–∫—Å, —Ñ–∏–ª—å—Ç—Ä —Å–µ–ª–µ–∫—Ç–∏–≤–Ω—ã–π             | `SELECT * FROM users WHERE id = 123` |

---

### üìö –ò—Ç–æ–≥–æ:

| –¢–µ—Ä–º–∏–Ω                  | –ß—Ç–æ –∑–Ω–∞—á–∏—Ç                                               |
| ----------------------- | -------------------------------------------------------- |
| **Seq Scan**            | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã                   |
| **Full Table Scan**     | –¢–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ —Ç–µ—Ä–º–∏–Ω —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ MySQL, Oracle |
| –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –∏–Ω–¥–µ–∫—Å? | ‚ùå –ù–µ—Ç                                                    |
| –ö–æ–≥–¥–∞ –≤—ã–≥–æ–¥–µ–Ω?          | –ú–∞–ª–µ–Ω—å–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—á—Ç–∏ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ |

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –º–æ–≥—É –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –≤–∫–ª—é—á–∏—Ç—å `EXPLAIN ANALYZE` –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –ø–ª–∞–Ω `Seq Scan` –ø—Ä–æ—Ç–∏–≤ `Index Scan` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
