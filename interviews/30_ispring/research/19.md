–î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è circuit breaker?

---

**Circuit Breaker** (–ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å, "–∞–≤—Ç–æ–º–∞—Ç") ‚Äî —ç—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–∑–∞—â–∏—Ç—ã —Å–∏—Å—Ç–µ–º—ã –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —Å–±–æ–µ–≤**, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö.

---

## ‚öôÔ∏è –ó–∞—á–µ–º –Ω—É–∂–µ–Ω Circuit Breaker?

> Circuit Breaker **–ø—Ä–µ—Ä—ã–≤–∞–µ—Ç** –ø–æ–ø—ã—Ç–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –∑–∞–≤–∏—Å–∏–º–æ–º—É —Ä–µ—Å—É—Ä—Å—É (—Å–µ—Ä–≤–∏—Å—É, –ë–î, API), –µ—Å–ª–∏ –æ–Ω **–Ω–µ—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–µ–Ω**, —á—Ç–æ–±—ã:

* –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ –∑–∞–≤–µ–¥–æ–º–æ –ø—Ä–æ–≤–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
* –Ω–µ —É—Ö—É–¥—à–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞)
* **–¥–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞

---

## üîå –ê–Ω–∞–ª–æ–≥–∏—è —Å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ–º:

–ö–∞–∫ **–∞–≤—Ç–æ–º–∞—Ç** –≤ –¥–æ–º–µ:

* –µ—Å–ª–∏ –≥–¥–µ-—Ç–æ **–∫–æ—Ä–æ—Ç–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ**, –æ–Ω –æ—Ç–∫–ª—é—á–∞–µ—Ç —Ç–æ–∫
* —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è –º–æ–∂–Ω–æ **–≤–∫–ª—é—á–∏—Ç—å —Å–Ω–æ–≤–∞**, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å –ª–∏ –≤—Å—ë

---

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Circuit Breaker

### 3 —Å–æ—Å—Ç–æ—è–Ω–∏—è:

1. üü¢ **Closed (–∑–∞–º–∫–Ω—É—Ç)**
   ‚Äî –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç.
   ‚Äî –ï—Å–ª–∏ –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫ ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ `Open`.

2. üî¥ **Open (—Ä–∞–∑–æ–º–∫–Ω—É—Ç)**
   ‚Äî –ó–∞–ø—Ä–æ—Å—ã **–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è —Å—Ä–∞–∑—É**, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è.
   ‚Äî –ß–µ—Ä–µ–∑ `timeout` ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ `Half-Open`.

3. üü° **Half-Open (–ø–æ–ª—É–æ—Ç–∫—Ä—ã—Ç)**
   ‚Äî –ü—Ä–æ–±–Ω—ã–π –∑–∞–ø—Ä–æ—Å: –µ—Å–ª–∏ —É—Å–ø–µ—à–µ–Ω ‚Üí –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ `Closed`, –µ—Å–ª–∏ –Ω–µ—Ç ‚Üí —Å–Ω–æ–≤–∞ `Open`.

---

## ‚úÖ –ö–æ–≥–¥–∞ –ø–æ–ª–µ–∑–µ–Ω

| –°–∏—Ç—É–∞—Ü–∏—è                    | –ü–æ—á–µ–º—É –Ω—É–∂–µ–Ω Circuit Breaker             |
| --------------------------- | ---------------------------------------- |
| üíÄ –£–ø–∞–ª –≤–Ω–µ—à–Ω–∏–π API         | –ù–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ —Ç–∞–π–º–∞—É—Ç—ã –∏ –æ—à–∏–±–∫–∏  |
| üß± –ü–æ–¥–≤–∏—Å–ª–∞ –ë–î              | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π |
| üîÑ –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω   | –ò–∑–±–µ–∂–∞—Ç—å –ª–∞–≤–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –æ—à–∏–±–æ–∫           |
| üåÄ –ú–Ω–æ–≥–æ —Ä–µ—Ç—Ä–∞–µ–≤ –∏ –∑–∞–¥–µ—Ä–∂–µ–∫ | Circuit breaker —Å—ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è –∏ CPU    |

---

## üì¶ –ü—Ä–∏–º–µ—Ä: Go —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π `sony/gobreaker`

```go
cb := gobreaker.NewCircuitBreaker(gobreaker.Settings{
    Name:        "MyService",
    MaxRequests: 3,
    Interval:    0,
    Timeout:     10 * time.Second,
})

result, err := cb.Execute(func() (interface{}, error) {
    return callRemoteService()
})
```

‚û° –ï—Å–ª–∏ `callRemoteService()` –ø–∞–¥–∞–µ—Ç —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ ‚Äî `cb` –≤—Ä–µ–º–µ–Ω–Ω–æ **–æ—Ç–∫–ª—é—á–∏—Ç –ø–æ–ø—ã—Ç–∫–∏** –∏ —Å—ç–∫–æ–Ω–æ–º–∏—Ç —Ä–µ—Å—É—Ä—Å—ã.

---

## üìå –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:

| –°–∏—Å—Ç–µ–º–∞/–§—Ä–µ–π–º–≤–æ—Ä–∫  | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Circuit Breaker                   |
| ------------------ | -------------------------------------------- |
| Netflix OSS (Java) | Hystrix (–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω, –Ω–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω)  |
| Go                 | `github.com/sony/gobreaker`, `resilience-go` |
| Spring Boot        | Resilience4j, Spring Cloud Circuit Breaker   |
| Kubernetes         | Istio (Envoy) ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º          |
| API Gateway        | Kong, AWS API Gateway ‚Äî —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CB      |

---

## ‚úÖ –ü–ª—é—Å—ã

* üìâ –°–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
* ‚ö° –ü–æ–≤—ã—à–∞–µ—Ç –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
* üß† –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–±–æ–∏
* üîÅ –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è

---

## ‚ùå –ú–∏–Ω—É—Å—ã / –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

* ‚ùó –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä–æ–≥–æ–≤ (—á–∞—Å—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏)
* ‚ùå –ú–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—É, –µ—Å–ª–∏ –Ω–µ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å
* üìâ –ú–æ–∂–µ—Ç "–∑–∞—Ä–µ–∑–∞—Ç—å" —Ä–µ—Å—É—Ä—Å, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è

---

## üß† –í—ã–≤–æ–¥:

> **Circuit Breaker** = –∑–∞—â–∏—Ç–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π **–ø–µ—Ä–µ–∂–∏–≤–∞—Ç—å —Å–±–æ–∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤** –±–µ–∑ –∫—Ä–∞—Ö–∞ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã.

–•–æ—á–µ—à—å ‚Äî –ø–æ–∫–∞–∂—É, –∫–∞–∫ –≤—Å—Ç—Ä–æ–∏—Ç—å circuit breaker —Å retry –∏ timeout –≤ Go-—Å–µ—Ä–≤–∏—Å –∏–ª–∏ —Å—Ä–∞–≤–Ω—é —Å bulkhead / timeout / rate limiter.
