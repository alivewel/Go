–û—Ç–ª–∏—á–Ω–æ! –†–∞–∑–±–µ—Ä—ë–º —Ç–µ–ø–µ—Ä—å **—Å—Å—ã–ª–∫–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ –∏ —Å–ª–∞–π—Å–∞** ‚Äî –∏ **–ø–æ—á–µ–º—É –∞–¥—Ä–µ—Å –º–æ–∂–µ—Ç "–º–µ–Ω—è—Ç—å—Å—è" –ø—Ä–∏ —Ä–æ—Å—Ç–µ —Å–ª–∞–π—Å–∞**.

---

## üîé –í —á—ë–º —Å—É—Ç—å?

–ö–æ–≥–¥–∞ —Ç—ã –±–µ—Ä—ë—à—å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞ –∏–ª–∏ —Å–ª–∞–π—Å–∞:

```go
s := []int{1, 2, 3}
p := &s[0]
```

–ê–¥—Ä–µ—Å `p` ‚Äî —ç—Ç–æ –∞–¥—Ä–µ—Å **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –º–∞—Å—Å–∏–≤–∞**, —Ö—Ä–∞–Ω—è—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ª–∞–π—Å–∞.

–ù–æ ‚ö†Ô∏è **–µ—Å–ª–∏ —Å–ª–∞–π—Å —Ä–∞—Å—Ç—ë—Ç (append)**, –∏ **–µ–º–∫–æ—Å—Ç–∏ (capacity)** –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç, Go **–≤—ã–¥–µ–ª—è–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤** ‚Üí —Å—Ç–∞—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ **—É—Å—Ç–∞—Ä–µ–≤–∞—é—Ç**.

---

## üß™ –ü—Ä–∏–º–µ—Ä: –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è –∞–¥—Ä–µ—Å

```go
package main

import "fmt"

func main() {
    s := make([]int, 0, 3)
    s = append(s, 10)
    p := &s[0]

    fmt.Printf("Before append: val=%d, addr=%p\n", *p, p)

    // –£–≤–µ–ª–∏—á–∏–º —Å–ª–∞–π—Å, –ø—Ä–µ–≤—ã—Å–∏–≤ capacity = 3
    for i := 0; i < 10; i++ {
        s = append(s, i)
    }

    fmt.Printf("After append: val=%d, addr=%p\n", s[0], &s[0])
    fmt.Printf("Old pointer: addr=%p (‚ö†Ô∏è –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º)\n", p)
}
```

### ‚úÖ –í—ã–≤–æ–¥ (–±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã):

```
Before append: val=10, addr=0xc000018080
After append:  val=10, addr=0xc00001a080
Old pointer:   addr=0xc000018080 ‚Üê ‚ö†Ô∏è —É–∫–∞–∑–∞—Ç–µ–ª—å —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å—Ç–∞—Ä—ã–π –º–∞—Å—Å–∏–≤!
```

---

## üìå –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* `make([]int, 0, 3)` ‚Üí capacity = 3
* –ü–æ—Å–ª–µ `append` –Ω–∞ 10 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Üí **Go –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–∞—Å—Å–∏–≤** —Å –Ω–æ–≤–æ–π capacity
* `s[0]` —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ **–Ω–æ–≤—É—é –ø–∞–º—è—Ç—å**
* –ê `p` –≤—Å—ë –µ—â—ë —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ **—Å—Ç–∞—Ä—É—é –ø–∞–º—è—Ç—å** ‚Äî –æ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –∏–ª–∏ —Å–æ–±—Ä–∞–Ω–∞ GC

---

## üß† –í—ã–≤–æ–¥:

| –°—Ü–µ–Ω–∞—Ä–∏–π                                     | –ê–¥—Ä–µ—Å –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–µ–º –∂–µ? |
| -------------------------------------------- | ---------------------- |
| –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `s[i]` –¥–æ `append`              | ‚úÖ –µ—Å–ª–∏ cap –Ω–µ –ø—Ä–µ–≤—ã—à–µ–Ω |
| –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `s[i]` –¥–æ `append`              | ‚ùå –µ—Å–ª–∏ cap –ø—Ä–µ–≤—ã—à–µ–Ω    |
| –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `array[i]`                      | ‚úÖ –≤—Å–µ–≥–¥–∞               |
| –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (int, string –∏ —Ç.–ø.) | ‚úÖ –≤—Å–µ–≥–¥–∞               |

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞:

–ï—Å–ª–∏ —Ç—ã –±–µ—Ä—ë—à—å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç —Å–ª–∞–π—Å–∞ –∏ –ø–æ—Ç–æ–º **append'–∏—à—å** ‚Äî –ª—É—á—à–µ –Ω–µ –ø–æ–ª–∞–≥–∞–π—Å—è –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—è:

```go
val := s[0]
p := &val // –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–æ–ø–∏—è
```

---

–•–æ—á–µ—à—å, —è –ø–æ–∫–∞–∂—É —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –±–∞–≥ —Å —É—Ç–µ—á–∫–æ–π –ø–∞–º—è—Ç–∏ –∏–ª–∏ –≥–æ–Ω–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –∏–∑-–∑–∞ —Ç–∞–∫–∏—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π?
