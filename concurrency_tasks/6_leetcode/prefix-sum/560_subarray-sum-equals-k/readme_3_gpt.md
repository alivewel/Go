#### –ü–æ—á–µ–º—É –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ –≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–µ, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–¥–º–∞—Å—Å–∏–≤?

–í–∞—à –≤–æ–ø—Ä–æ—Å –ª–æ–≥–∏—á–µ–Ω, –Ω–æ –¥–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º, –ø–æ—á–µ–º—É –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∏ –∫–∞–∫ –æ–Ω–∞ —Å–≤—è–∑–∞–Ω–∞ —Å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∞–ª–≥–æ—Ä–∏—Ç–º–∞.

---

### 1. **–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–º–∞—Å—Å–∏–≤ ``?**
–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –∑–∞–¥–∞—á–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–¥–º–∞—Å—Å–∏–≤—ã, –∞ –ª–∏—à—å **–ø–æ–¥—Å—á–∏—Ç–∞—Ç—å –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ**. –ï—Å–ª–∏ –≤—ã –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç–µ –ø–æ–¥–º–∞—Å—Å–∏–≤ `` (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π), —ç—Ç–æ –Ω–∞—Ä—É—à–∏—Ç –ª–æ–≥–∏–∫—É –∞–ª–≥–æ—Ä–∏—Ç–º–∞, —Ç–∞–∫ –∫–∞–∫:
- –ú—ã –Ω–µ –∑–Ω–∞–µ–º, —Å–∫–æ–ª—å–∫–æ –ø–æ–¥–º–∞—Å—Å–∏–≤–æ–≤ —Å —Å—É–º–º–æ–π `k` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–æ —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞.
- –ü–æ–¥–º–∞—Å—Å–∏–≤ `` ‚Äî —ç—Ç–æ –ª–∏—à—å –æ–¥–∏–Ω –∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å –∏ –¥—Ä—É–≥–∏–µ –ø–æ–¥–º–∞—Å—Å–∏–≤—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Ä–∞–Ω—å—à–µ –≤ –º–∞—Å—Å–∏–≤–µ.

–•—ç—à-—Ç–∞–±–ª–∏—Ü–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç **—É—á–µ—Å—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ–¥–º–∞—Å—Å–∏–≤—ã**, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â–µ–º –∏–Ω–¥–µ–∫—Å–µ –∏ –∏–º–µ—é—Ç —Å—É–º–º—É `k`, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —è–≤–Ω–æ –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –∏—Ö.

---

### 2. **–†–æ–ª—å —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—ã**
–•—ç—à-—Ç–∞–±–ª–∏—Ü–∞ —Ö—Ä–∞–Ω–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑, –∫–æ–≥–¥–∞ –∫–∞–∂–¥–∞—è –ø—Ä–µ—Ñ–∏–∫—Å–Ω–∞—è —Å—É–º–º–∞ –≤—Å—Ç—Ä–µ—á–∞–ª–∞—Å—å —Ä–∞–Ω–µ–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ë—ã—Å—Ç—Ä–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —Å–∫–æ–ª—å–∫–æ –ø–æ–¥–º–∞—Å—Å–∏–≤–æ–≤ —Å —Å—É–º–º–æ–π `k` –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â–µ–º –∏–Ω–¥–µ–∫—Å–µ.
- –£—á–∏—Ç—ã–≤–∞—Ç—å **–≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ–¥–º–∞—Å—Å–∏–≤—ã**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

---

### 3. **–ü—Ä–∏–º–µ—Ä –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è**
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –º–∞—Å—Å–∏–≤ `nums = [1, 2, 1, 2, 1]` –∏ `k = 3`.

- –ü—Ä–µ—Ñ–∏–∫—Å–Ω—ã–µ —Å—É–º–º—ã:
  - `prefix_sum[0] = 1`
  - `prefix_sum[1] = 1 + 2 = 3`
  - `prefix_sum[2] = 1 + 2 + 1 = 4`
  - `prefix_sum[3] = 1 + 2 + 1 + 2 = 6`
  - `prefix_sum[4] = 1 + 2 + 1 + 2 + 1 = 7`

- –•—ç—à-—Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ:
  1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `{0: 1}` (–¥–ª—è —É—á–µ—Ç–∞ –ø–æ–¥–º–∞—Å—Å–∏–≤–æ–≤, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞).
  2. –ò–Ω–¥–µ–∫—Å 0: 
     - `prefix_sum = 1`
     - `prefix_sum - k = 1 - 3 = -2` (–≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–µ –Ω–µ—Ç `-2`).
     - –î–æ–±–∞–≤–ª—è–µ–º `1` –≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—É: `{0: 1, 1: 1}`.
  3. –ò–Ω–¥–µ–∫—Å 1:
     - `prefix_sum = 3`
     - `prefix_sum - k = 3 - 3 = 0` (–≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–µ –µ—Å—Ç—å `0`).
     - –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ 1 (–ø–æ–¥–º–∞—Å—Å–∏–≤ `[1, 2]`).
     - –î–æ–±–∞–≤–ª—è–µ–º `3` –≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—É: `{0: 1, 1: 1, 3: 1}`.
  4. –ò–Ω–¥–µ–∫—Å 2:
     - `prefix_sum = 4`
     - `prefix_sum - k = 4 - 3 = 1` (–≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–µ –µ—Å—Ç—å `1`).
     - –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ 1 (–ø–æ–¥–º–∞—Å—Å–∏–≤ `[2, 1]`).
     - –î–æ–±–∞–≤–ª—è–µ–º `4` –≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—É: `{0: 1, 1: 1, 3: 1, 4: 1}`.
  5. –ò–Ω–¥–µ–∫—Å 3:
     - `prefix_sum = 6`
     - `prefix_sum - k = 6 - 3 = 3` (–≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–µ –µ—Å—Ç—å `3`).
     - –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ 1 (–ø–æ–¥–º–∞—Å—Å–∏–≤ `[1, 2]`).
     - –î–æ–±–∞–≤–ª—è–µ–º `6` –≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—É: `{0: 1, 1: 1, 3: 1, 4: 1, 6: 1}`.
  6. –ò–Ω–¥–µ–∫—Å 4:
     - `prefix_sum = 7`
     - `prefix_sum - k = 7 - 3 = 4` (–≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–µ –µ—Å—Ç—å `4`).
     - –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ 1 (–ø–æ–¥–º–∞—Å—Å–∏–≤ `[2, 1]`).
     - –î–æ–±–∞–≤–ª—è–µ–º `7` –≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—É: `{0: 1, 1: 1, 3: 1, 4: 1, 6: 1, 7: 1}`.

- –ò—Ç–æ–≥: –°—á–µ—Ç—á–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ä–∞–≤–µ–Ω `4` (–ø–æ–¥–º–∞—Å—Å–∏–≤—ã `[1, 2]`, `[2, 1]`, `[1, 2]`, `[2, 1]`).

---

### 4. **–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –∫–∞–∫ –ø–æ–¥–º–∞—Å—Å–∏–≤?**
–ï—Å–ª–∏ –≤—ã –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, ``), –≤—ã –Ω–µ —É—á—Ç–µ—Ç–µ –ø–æ–¥–º–∞—Å—Å–∏–≤—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Ä–∞–Ω—å—à–µ, –Ω–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â–µ–º –∏–Ω–¥–µ–∫—Å–µ. –ù–∞–ø—Ä–∏–º–µ—Ä:
- –í –º–∞—Å—Å–∏–≤–µ `[1, 2, 1, 2, 1]` –ø–æ–¥–º–∞—Å—Å–∏–≤ `[2, 1]` (–∏–Ω–¥–µ–∫—Å—ã 1-2) –∏ `[1, 2]` (–∏–Ω–¥–µ–∫—Å—ã 3-4) –æ–±–∞ –∏–º–µ—é—Ç —Å—É–º–º—É `k = 3`, –Ω–æ –æ–Ω–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö.
- –•—ç—à-—Ç–∞–±–ª–∏—Ü–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—á–µ—Å—Ç—å –≤—Å–µ —Ç–∞–∫–∏–µ –ø–æ–¥–º–∞—Å—Å–∏–≤—ã, –Ω–µ –ø–µ—Ä–µ–±–∏—Ä–∞—è –∏—Ö —è–≤–Ω–æ.

---

### 5. **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**
–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `prefix_sum[i] - k` –≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ù–∞–π—Ç–∏ **–≤—Å–µ –ø–æ–¥–º–∞—Å—Å–∏–≤—ã**, —Å—É–º–º–∞ –∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞–≤–Ω–∞ `k`, –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ —Ç–µ–∫—É—â–µ–º –∏–Ω–¥–µ–∫—Å–µ.
- –£—á–∏—Ç—ã–≤–∞—Ç—å –ø–æ–¥–º–∞—Å—Å–∏–≤—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –º–∞—Å—Å–∏–≤–∞.
- –°–æ–∫—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–æ O(n), –∏–∑–±–µ–≥–∞—è —è–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–±–æ—Ä–∞ –≤—Å–µ—Ö –ø–æ–¥–º–∞—Å—Å–∏–≤–æ–≤.

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–º, –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å, –∏ —è –æ–±—ä—è—Å–Ω—é –µ—â–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ! üòä