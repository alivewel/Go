При запуске этой программы мы получаем deadlock.

Как можно это исправить?
Использовать буферищированный канал или писать в отдельной горутине.

Почему происходит deadlock?
Все горутины спят.

Какие поля в структуре канала отвечают за deadlock?
Там 2 очереди sendq (чтение из канала) и receiveq (запись в канал), в них хранятся название функций, которые пишут или читают. Когда одна и таже функция находится происходит deadlock

Очереди sendq и receiveq: В Go каналы имеют две очереди: sendq для горутин, ожидающих отправки данных в канал, и receiveq для горутин, ожидающих получения данных из канала. Если одна горутина пытается отправить данные в канал, а другая — получить данные из него, и обе горутины заблокированы, это может привести к deadlock.

Если одна и та же функция (или горутина) пытается одновременно отправить и получить данные из канала, и при этом не может продолжить выполнение (например, ожидает, когда другая горутина освободит канал), это может привести к deadlock.
