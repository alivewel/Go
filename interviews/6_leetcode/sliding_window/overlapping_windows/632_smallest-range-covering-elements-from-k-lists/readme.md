–û—Ç–ª–∏—á–Ω–æ! –¢—ã –ø—Ä–∏–≤—ë–ª —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `Counter` –∏ –¥–≤—É—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π. –î–∞–≤–∞–π:

1. –ü–µ—Ä–µ–ø–∏—à—É —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ Go.
2. –û–±—ä—è—Å–Ω—é –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ—à–∞–≥–æ–≤–æ.
3. –ü–æ–¥–±–µ—Ä—É —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –∏ —Ä–∞–∑–±–µ—Ä—É –µ–≥–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é.

---

## üü¢ **–ü–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π –∫–æ–¥ –Ω–∞ Go:**

```go
package main

import (
	"fmt"
	"math"
	"sort"
)

type Element struct {
	val      int
	listIdx  int
}

func smallestRange(nums [][]int) []int {
	// –®–∞–≥ 1: Flatten + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
	var flatList []Element
	for i, sublist := range nums {
		for _, value := range sublist {
			flatList = append(flatList, Element{val: value, listIdx: i})
		}
	}
	sort.Slice(flatList, func(i, j int) bool {
		return flatList[i].val < flatList[j].val
	})

	// –®–∞–≥ 2: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
	count := make(map[int]int)
	left := 0
	result := []int{math.MinInt32, math.MaxInt32}

	// –®–∞–≥ 3: –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –ø–æ –ø—Ä–∞–≤–æ–π –≥—Ä–∞–Ω–∏—Ü–µ (right)
	for right := 0; right < len(flatList); right++ {
		rightElem := flatList[right]
		count[rightElem.listIdx]++

		// –ü–æ–∫–∞ –æ–∫–Ω–æ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —Å–ø–∏—Å–∫–∏, –ø—Ä–æ–±—É–µ–º —Å—É–∑–∏—Ç—å –æ–∫–Ω–æ —Å –ª–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
		for len(count) == len(nums) {
			leftElem := flatList[left]
			currentRange := flatList[right].val - leftElem.val
			bestRange := result[1] - result[0]

			// –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –µ—Å–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–µ–Ω, –Ω–æ –ª–µ–≤—ã–π –∫—Ä–∞–π –º–µ–Ω—å—à–µ
			if currentRange < bestRange || (currentRange == bestRange && leftElem.val < result[0]) {
				result = []int{leftElem.val, flatList[right].val}
			}

			// –£–±–∏—Ä–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —Å –ª–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
			count[leftElem.listIdx]--
			if count[leftElem.listIdx] == 0 {
				delete(count, leftElem.listIdx)
			}
			left++
		}
	}

	return result
}

func main() {
	nums := [][]int{
		{4, 10, 15, 24, 26},
		{0, 9, 12, 20},
		{5, 18, 22, 30},
	}

	result := smallestRange(nums)
	fmt.Println(result) // –û–∂–∏–¥–∞–µ—Ç—Å—è: [20 24]
}
```

---

## üí° **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:**

1. **Flatten + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**
   - –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –≤—Å–µ—Ö —Å–ø–∏—Å–∫–æ–≤ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ –æ–¥–∏–Ω —Å—Ä–µ–∑ –≤–º–µ—Å—Ç–µ —Å –∏–Ω–¥–µ–∫—Å–æ–º —Å–≤–æ–µ–≥–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.
   - –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é.

2. **–î–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è (`left`, `right`):**
   - `right` –¥–≤–∏–≥–∞–µ—Ç—Å—è –≤–ø—Ä–∞–≤–æ, —Ä–∞—Å—à–∏—Ä—è—è –æ–∫–Ω–æ.
   - –°—á—ë—Ç—á–∏–∫ `count` —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç, —Å–∫–æ–ª—å–∫–æ —á–∏—Å–µ–ª –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ–ø–∞–ª–æ –≤ —Ç–µ–∫—É—â–µ–µ –æ–∫–Ω–æ.

3. **–ö–æ–≥–¥–∞ –æ–∫–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ö–æ—Ç—è –±—ã –ø–æ –æ–¥–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Å–ø–∏—Å–∫–∞ (`len(count) == len(nums)`):**
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ª—É—á—à–µ –ª–∏ —Ç–µ–∫—É—â–µ–µ –æ–∫–Ω–æ, —á–µ–º –Ω–∞–π–¥–µ–Ω–Ω–æ–µ —Ä–∞–Ω–µ–µ.
   - –ü—ã—Ç–∞–µ–º—Å—è —Å—É–∑–∏—Ç—å –æ–∫–Ω–æ, –¥–≤–∏–≥–∞—è `left` –≤–ø—Ä–∞–≤–æ.

4. **–û–±–Ω–æ–≤–ª—è–µ–º –ª—É—á—à–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω, –µ—Å–ª–∏:**
   - –ù–æ–≤—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –∫–æ—Ä–æ—á–µ.
   - –ò–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –¥–ª–∏–Ω—ã, –Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –º–µ–Ω—å—à–µ–≥–æ —á–∏—Å–ª–∞.

---

## üß™ **–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º –ø—Ä–∏–º–µ—Ä–µ:**

```go
nums := [][]int{
	{4, 10, 15, 24, 26},
	{0, 9, 12, 20},
	{5, 18, 22, 30},
}
```

**Flatten + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**

| –ß–∏—Å–ª–æ | –ò–Ω–¥–µ–∫—Å —Å–ø–∏—Å–∫–∞ |
|-------|---------------|
| 0     | 1             |
| 4     | 0             |
| 5     | 2             |
| 9     | 1             |
| 10    | 0             |
| 12    | 1             |
| 15    | 0             |
| 18    | 2             |
| 20    | 1             |
| 22    | 2             |
| 24    | 0             |
| 26    | 0             |
| 30    | 2             |

---

### üü† **–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏:**
1. `right = 0`: –¥–æ–±–∞–≤–∏–ª–∏ `0 (1)` ‚Üí count `{1:1}`.
2. `right = 1`: –¥–æ–±–∞–≤–∏–ª–∏ `4 (0)` ‚Üí count `{1:1, 0:1}`.
3. `right = 2`: –¥–æ–±–∞–≤–∏–ª–∏ `5 (2)` ‚Üí count `{1:1, 0:1, 2:1}` ‚Üí **–≤—Å–µ –ø–æ–∫—Ä—ã—Ç—ã!**

–¢–µ–∫—É—â–µ–µ –æ–∫–Ω–æ: `[0, 5]`, –¥–ª–∏–Ω–∞ 5.

–ü—Ä–æ–±—É–µ–º —Å—É–∑–∏—Ç—å —Å–ª–µ–≤–∞:
- `left = 0`, —É–±–∏—Ä–∞–µ–º `0 (1)` ‚Üí count `{0:1, 2:1}` ‚Üí –Ω–µ –≤—Å–µ –ø–æ–∫—Ä—ã—Ç—ã.

---

### üîµ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- –†–∞—Å—à–∏—Ä—è–µ–º `right`, –ø–æ–∫–∞ —Å–Ω–æ–≤–∞ –Ω–µ –ø–æ–∫—Ä–æ–µ–º –≤—Å–µ —Å–ø–∏—Å–∫–∏.
- –ö–∞–∫ —Ç–æ–ª—å–∫–æ –ø–æ–∫—Ä—ã–ª–∏, —Å–Ω–æ–≤–∞ —Å—É–∂–∞–µ–º –æ–∫–Ω–æ —Å–ª–µ–≤–∞.

–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è, –ø–æ–∫–∞ –Ω–µ –ø–æ–ª—É—á–∞–µ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –æ—Ç—Ä–µ–∑–æ–∫ **[20, 24]**.

---

## üü¢ **–ö–∞–∫ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã:**

```go
func testSmallestRange() {
    nums := [][]int{
        {4, 10, 15, 24, 26},
        {0, 9, 12, 20},
        {5, 18, 22, 30},
    }
    result := smallestRange(nums)
    expected := []int{20, 24}
    if result[0] != expected[0] || result[1] != expected[1] {
        fmt.Printf("FAILED: got %v, expected %v\n", result, expected)
    } else {
        fmt.Println("PASSED")
    }
}
```
