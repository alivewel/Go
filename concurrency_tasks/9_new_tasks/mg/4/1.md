32:00
1) Что такое индекс?
2) Что такое селективность индекса?
Если у нас мало различных значений столбца, то использование индекса может замедлить работу запроса. Потому что менеджер запросов будет терять время на принятие решений стоит ли использовать индекс, не будет использовать его и будет использовать sequence scan (Sequential Scan) - последовательное сканирование.

Оптимизатор запроса: https://infostart.ru/1c/articles/1172359/

11 Методов оптимизации SQL-запросов, обычно используемых в проектах: https://dzen.ru/a/YtZh8w4yXCQoTBp3

Пример неселективной колонки female. Потому что там 2 уникальных значения man и woman.
Пример селективной колонки timestamp и primary key. Множество уникальных значений.

3) Составной индекс.

Это индекс сразу на несколько полей.

Если мы используем один индекс, то он только один применится по одному столбцу. А если мы используем составной индекс, то мы можем сразу по нескольким столбцам использовать индекс.

Важен ли порядок в составном индексе?
Правило использования составного индекса: Столбцы, которые будет сравниваться на знак равно, до первого знака неравенство. И после 
все что мы напишем в составном индексе не будет использоваться.

Точное правило состоит в том, что сканируемая область индекса определяется условиями равенства с ведущими столбцами и условиями неравенства с первым столбцом, не участвующим в условии равенства. Ограничения столбцов правее них также проверяются по индексу, так что обращение к таблице откладывается, но на размер сканируемой области индекса это уже не влияет. Например, если есть индекс по столбцам (a, b, c) и условие WHERE a = 5 AND b >= 42 AND c < 77, индекс будет сканироваться от первой записи a = 5 и b = 42 до последней с a = 5. Записи индекса, в которых c >= 77, не будут учитываться, но, тем не менее, будут просканированы. Этот индекс в принципе может использоваться в запросах с ограничениями по b и/или c, без ограничений столбца a, но при этом будет просканирован весь индекс, так что в большинстве случаев планировщик предпочтёт использованию индекса полное сканирование таблицы.
Источник: https://postgrespro.ru/docs/postgrespro/9.5/indexes-multicolumn

31) А в запросе может использоватся несколько одиночных индексов? 

Хотя в запросе могут использоваться несколько одиночных индексов, оптимизатор базы данных, как правило, выбирает только один индекс для выполнения запроса. Для улучшения производительности запросов, которые фильтруют по нескольким столбцам, рекомендуется использовать составные индексы.

4) Частичный индекс.

Частичный индекс — это тип индекса в реляционных базах данных, который создается только для подмножества строк таблицы, соответствующих определенному условию. 

Пример: 
CREATE INDEX clients_ip ON orders (client_ip_address) 
WHERE NOT (client_ip_address > '10.26.74.1' AND client_ip_address < '10.26.74.2');

36:30
5) Покрывающий индекс.
Покрывающий индекс — это индекс, который содержит весь набор полей для запроса.

Пример индекса для запроса:
CREATE INDEX idx_position_salary ON employees (position, salary);
Теперь, если мы выполняем запрос:
sql

Запрос:
SELECT name, salary FROM employees WHERE position = 'Manager';

37:00
6) Транзакция